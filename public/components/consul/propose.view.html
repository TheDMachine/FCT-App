<!-- Sidenav view -->
<div class="body-app md-menu-demo" layout="column" ng-cloak ng-init="selected = 0">
	<div class="side-content-container" layout="row" flex>
		<md-sidenav md-is-locked-open="true" class="md-whiteframe-3dp side-nav" flex="10" flex-sm="15" flex-xs="20">
			<md-list>
				<md-list-item>
					<figure class="logo-nav">
					<img src="images/logoSideNav.png">
				</figure>
				</md-list-item>
				<!--<md-list-item layout="column">
					<md-button class="button-selected" ng-click="vm.selected = 1" ng-style="vm.selected == 1 ? {'background' : 'rgba(27,201,142,0.7)'} : {'background' : 'inherit'} ">
						<i class="material-icons side-icons home-icon" ng-style="vm.selected == 1 ? {'color': '#fff'} : {'color': '#1bc98e'} ">&#xE88A;</i>
						<p class="menu-button">Home</p>
					</md-button>
				</md-list-item>-->
				<md-list-item layout="column">
					<md-button class="button-selected" ng-click="vm.selected = 2">
						<i class="material-icons side-icons profile-icon" ng-style="vm.selected == 2 ? {'color': '#fff'} : {'color': '#1a80a8'} ">&#xE853;</i>
						<p class="menu-button">Perfil</p>
					</md-button>
				</md-list-item>
				<md-list-item  layout="column">
					<md-button class="button-selected" ng-click="vm.selected = 3">
						<i class="material-icons side-icons events-icon" ng-style="vm.selected == 3 ? {'color': '#fff'} : {'color': '#e64759'} ">&#xE878;</i>
						<p class="menu-button">Propuestas</p>
					</md-button>
				</md-list-item>
				<!--<md-list-item  layout="column">
					<md-button class="button-selected" ng-click="vm.selected = 4" ng-style="vm.selected == 4 ? {'background' : 'rgba(252, 177, 50, 0.7)'} : {'background' : 'inherit'} ">
						<i class="material-icons side-icons help-icon" ng-style="vm.selected == 4 ? {'color': '#fff'} : {'color': '#fcb132'} ">&#xEB3F;</i>
						<p class="menu-button">Patrocinadores</p>
					</md-button>
				</md-list-item>-->
				<md-list-item  layout="column">
					<md-button class="button-selected" ng-click="vm.selected = 4" >
						<i class="side-icons fa fa-trophy" ng-style="vm.selected == 4 ? {'color': '#fff'} : {'color': '#fcb132'} "></i>
						<p class="menu-button">Reuniones</p>
					</md-button>
				</md-list-item>
			</md-list>
		</md-sidenav>
		<md-content id="content" flex>
	  		<md-toolbar class="tool-icons md-whiteframe-3dp" layout="row">
	  			<md-list-item class="noright" flex="20">
    				<img alt="{{ person.name }}" ng-src="{{ vm.currentUser.photo }}" class="md-avatar" />
    				<p>{{vm.currentUser.email}}</p>
  				</md-list-item>
    			<div class="md-toolbar-tools" layout="row" layout-align="end center" flex="80">
    				<div class="icons-profile-container">
	      				<md-icon flex>
      						<i class="material-icons user-nav-icons">&#xE7F4;</i>
      					</md-icon>
    				 <md-menu>
				      <md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="vm.openMenu($mdMenu, $event)">
				        <md-icon md-menu-origin>
				        	<i class="material-icons user-nav-icons">&#xE8B8;</i>
				        </md-icon>
				      </md-button>
				      <md-menu-content width="4">
				        <md-menu-item>
				          <md-button ng-click="ctrl.redial($event)">
				            Edit profile
				          </md-button>
				        </md-menu-item>
				        <md-menu-item>
				          <md-button disabled="disabled" ng-click="ctrl.checkVoicemail()">

				            Recuperar contraseña
				          </md-button>
				        </md-menu-item>
				        <md-menu-divider></md-menu-divider>
				        <md-menu-item>
				          <md-button ng-click="vm.logOut()">
				            Cerrar sesión
				          </md-button>
				        </md-menu-item>
				      </md-menu-content>
				    </md-menu>
    				</div>
    			</div>
  			</md-toolbar>
  			<!-- Poner la vista aquí

  			!!-->
  			<!-- Vista de editar profesor-->
  			<div ng-show="vm.editTeacherProfile">

              <!-- Campo contraseña -->
              <md-input-container flex-offset>
                <label>Contraseña</label>
                <input name="password" ng-model="vm.currentUser.password" ng-pattern="/^[a-zA-Z0-9]*$/" type="password" required>
                <!-- Mensaje de retroalimentacion -->
                <div ng-messages="frmModInfo.password.$error">
                  <div ng-messages-include="components/includes/messages.html"></div>
                </div>
              </md-input-container>

              <!-- Campo teléfono -->
              <md-input-container flex-offset>
                <label>Teléfono</label>
                <input name="phone" ng-model="vm.currentUser.phone" ng-pattern="/^[0-9]{8}$/" required>
                <!-- Mensaje de retroalimentacion -->
                <div ng-messages="frmModInfo.phone.$error">
                  <div ng-messages-include="components/includes/messages.html"></div>
                </div>
              </md-input-container>

              <!-- Campo Contacto de emergencia -->
              <md-input-container flex-offset>
                <label>Contacto de emergencia</label>
                <input name="emergContact" ng-model="vm.currentUser.email" type="text" required>
                <!-- Mensaje de retroalimentacion -->
                <div ng-messages="frmModInfo.emergContact.$error">
                  <div ng-messages-include="components/includes/messages.html"></div>
                </div>
              </md-input-container>

              <br>

              <!-- Campo fotografía -->

              <button class="btn btn-primary buttonForm" type="submit" ng-click="vm.updateCurrentTeacher()" ng-disabled="frmModInfo.$invalid">Actualizar</button>
            </form>
  			</div>
  			<!--Vista de competencias y competidores -->
  			<div ng-show="vm.selected == 8">
  				<div ng-repeat="item in vm.competitionsToShow track by $index" ng-show="item.show" flex>
  					<h1>Competencia {{item.competitionNumber}}</h1>
  					<h2 class="text-center">Competidores</h2>
					<div class="competitors-info-container" layout="row">
						<div flex-xs flex-gt-xs="20" ng-repeat="competitor in item.competitors">
						      <md-card class="user-card">
						          <md-card-avatar class="avatar avatar-test">
						            <img class="md-user-avatar" src="{{competitor.photo}}">
						          </md-card-avatar>
						          <md-toolbar class="red">
						          	<p class="md-headline name-test" layout="column" layout-align="start">{{competitor.firstName}} {{competitor.firstLastName}}</p>
						          	<p class="md-subhead sub-header-test">Academia: Pros</p>
						          </md-toolbar>
						        <md-card-title>
						          <md-card-title-text layout="row">
						            <div layout="column" flex="32" class="text-center">
						              <i class="material-icons card-icon star-icon">&#xE838;</i>
						              <span class="md-subhead">Categoría: {{competitor.category}}</span>
						            </div>
						            <div layout="column" flex="32" class="text-center">
						            <i class="material-icons card-icon weight-icon">&#xEB43;</i>
						              <span class="md-subhead">Peso: {{competitor.weight}}</span>
						            </div>
						            <div layout="column" flex="32" class="text-center">
						              <i class="material-icons card-icon won-icon">&#xE3E7;</i>
						              <span class="md-subhead">Torneos ganados: {{competitor.tournamentsWins}}</span>
						            </div>
						          </md-card-title-text>
						        </md-card-title>
							</md-card>
						</div>
					</div>
					<div class="container container-competition">
							<h2 style="text-align: left;">Tabla de posiciones</h2>
							<md-list flex="90">
								<md-list-item ng-repeat="competitor in item.competitors" ng-click="goToPerson(person.name, $event)" class="noright">
			    					<img ng-src="{{ comp.img }}" class="md-avatar" />
			    					<span class="person-points">{{ competitor.firstName }}</span>
									<i class="material-icons fa fa-trophy" ng-if="$index == 0"></i>
			    					<div class="points md-secondary">
			    					<i class="fa fa-star"></i>
			    					<span class="person-points">{{competitor.points}}</span>
			    					</div>
			 					 </md-list-item>
							</md-list>
						</div>
						<div class="container container-competition">
							<h2 layout="row" layout-align="start">Peleas</h2>
							<div ng-repeat="fight in item.fights track by $index" layout="row" layout-align="center center">
								<div flex-xs flex-gt-xs="25" ng-repeat="pairFight in fight track by $index" ng-if="pairFight !== true">
								      <md-card class="user-card">
								          <md-card-avatar class="avatar avatar-test">
								            <img src="{{competitor.photo}}">
								          </md-card-avatar>
								          <md-toolbar class="red">
								          	<p class="md-headline name-test" layout="column" layout-align="start">{{pairFight.firstName}} {{pairFight.firstLastName}}</p>
								          	<p class="md-subhead sub-header-test">Academia: Pros</p>
								          </md-toolbar>
								          <md-button ng-click="vm.updatePoints(pairFight, $parent.$parent.$index, item);" ng-disabled="fight[2] == true">
								          	<i class="material-icons fa fa-trophy"></i>
								          </md-button>
									</md-card>
								</div>
								<span ng-if="fight[2] == true">Pelea realizada</span>
							</div>
						</div>
  				</div>
  			</div>
			
			<!--Inicia vista perfil  -->
			<div  class="col-md-10 col-offset-1" ng-show="vm.selected == 2">
  				<h2 layout="row" layout-align="start">Perfil</h2>
  				<div flex-xs flex-gt-xs="100" layout="column">
			      <md-card md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" md-theme-watch>
			        <md-card-title class="no-padding">
			          <md-card-title-media flex="35">
			            <div class="md-media-lg card-media profile-picture">
			            	<img ng-src="{{vm.currentUser.photo}}">
			            </div>
			          </md-card-title-media>
			          <md-card-title-text>
					<span class="md-headline name-profile">{{vm.currentUser.firstName}}  {{vm.currentUser.firstLastName}}</span>
			          <p class="profile-info"><span>ID:</span> {{vm.currentUser.id}}</p>
			          <p class="profile-info"><span>Nacionalidad:</span> {{vm.currentUser.nationality}}</p>
			          <p class="profile-info"><span>Edad:</span> {{vm.currentUser.birthday}}</p>
			          </md-card-title-text>
			        </md-card-title>
			        <md-card-actions layout="row" layout-align="end center">
			          <md-button ng-click="vm.getCurrentTeacher(vm.currentUser)">Editar</md-button>
			        </md-card-actions>
			      </md-card>
  				</div>
  			</div>
			
			<!-- Inicia las vistas -->
			<div ng-show="vm.selected == 3">
				
			<div>
			  <div class="col-sm-offset-1 col-sm-10 col-md-offset-1 col-md-offset-1">
			      <h3>Propuestas a revisar</h3>
			      <h4>{{vm.messageToHave}}</h4>
			  </div>
		    </div>
			<div class="col-md-10 col-offset-1">
	  			  <md-content ng-hide="vm.proposes.length == 0" class="md-padding" layout-xs="row" layout="row">
	  			    <div flex-xs flex-gt-xs="90" layout="row">
	  			      <md-card ng-repeat="prop in vm.proposes track by $index">
	  			        <!-- <img ng-src="{{prop.photo}}" class="md-card-image" alt="{{prop.photo}}"/> -->
	  			        <md-card-title>
	  			          <md-card-title-text>
	  			            <span class="md-headline">Propuesta de evento</span>
	  			          </md-card-title-text>
	  			        </md-card-title>
	  			        <md-card-content>
	  			          <p class="md-subhead">Nombre del evento: {{prop.proposeName}} [{{prop.status}}]</p>
	  			          <p class="md-subhead">Tipo de evento: {{prop.proposeType}}</p>
	  			          <p class="md-subhead">Fecha del evento: {{prop.date1 | date:"dd/MM/yyyy"}}</p>
	  			          <p class="md-subhead">Responsable del evento: {{prop.respPerson}}</p>
	  			          <p class="md-subhead">Lugar: {{prop.placeName +", " +prop.location}}</p>
	  			          <p class="md-subhead">Persona de contacto: {{prop.contactName}}</p>
	  			          <p class="md-subhead">Número de contacto: {{prop.contactPhone}}</p>
	  			          <p class="md-subhead">Categorias a participar: <ul><li class="md-subhead" ng-repeat="ct in prop.selectCategories">{{ct}}</li></ul></P>
	  			        </md-card-content>
	  			        <md-card-actions layout="row" layout-align="end center">
	  			          <md-button ng-click="vm.aceptedPropose(prop)">Aceptar propuesta</md-button>
	  			          <md-button ng-click="vm.showPrompt(prop)">Rechazar propuesta</md-button>
	  			        </md-card-actions>
	  			      </md-card>
	  			      <md-card>
	  			      </div>
				  </md-content>
			</div>
			  </div>
			<!-- Inicio vista #2 -->
			<div ng-show="vm.selected == 4">
				<div class="col-md-offset-1 col-md-10 md-padding" layout-xs="column" layout="column">
					<h3>Agendar una reunión</h3>
				<form name="frmNewMeeting" ng-submit="vm.newAppointment(vm.appt)">
				  <!-- Campo para escoger la fecha -->
				  <md-input-container>
				    <md-datepicker name="dateToMeet"  ng-model="vm.appt.dateToMeet"  md-placeholder="Fecha de la reunión" required></md-datepicker>
			
				    <!-- Mensaje de retroalimentacion -->
				   	<div ng-messages="frmNewMeeting.dateToMeet.$error">
				     		<div ng-messages-include="components/includes/messages.html"></div>
				   	</div>
				  </md-input-container>
			
				  <!-- Campo Tipo de evento -->
				  <md-input-container>
				      <label>Seleciona la propuesta a evaluar</label>
				      <md-select name="proposeType" ng-model="vm.appt.proposeName" required>
				        <md-option ng-repeat="apt in vm.propList track by $index" value="{{apt}}">{{apt}}</md-option>
				      </md-select>
			
				    <!-- Mensaje de retroalimentacion -->
				    <div ng-messages="frmNewMeeting.proposeType.$error">
				      <div ng-messages-include="components/includes/messages.html"></div>
				    </div>
				  </md-input-container>
				  <md-button type="submit">Agendar cita</md-button>
				</form>
			</div>
		</div>
		</md-content>

	</div>
</div>
